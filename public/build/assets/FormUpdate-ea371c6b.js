import{W as v,r as u,j as s}from"./app-c818f195.js";import{S as f}from"./Status-6e1c3b4a.js";import{T as i,I as n}from"./TextInput-2a33136c.js";import{I as l}from"./InputLabel-4d88ed3c.js";import{P as N}from"./PrimaryButton-aa032d8c.js";import{s as S,S as b,E as y}from"./slugify-f723fd21.js";import"./toConsumableArray-3797102f.js";import"./react-markdown-c8dfe22a.js";const M=({tags:g,dataEdit:t,postTag:c})=>{const{data:a,setData:r,patch:p,processing:x,errors:o,reset:d}=v({title:t.title,slug:t.slug,content:t.content,tag:c,status:t.status}),[m,j]=u.useState(t.content),h=e=>{e.preventDefault(),p(route("admin.post.update",t.id),{preserveScroll:!0,onSuccess:()=>d()})};return u.useEffect(()=>{r("content",m)},[m]),u.useEffect(()=>{r("slug",S(a.title))},[a.title]),s.jsxs("form",{onSubmit:h,children:[s.jsxs("div",{className:"grid grid-cols-1 grid-cols-2 gap-4",children:[s.jsxs("div",{className:"col-span-2",children:[s.jsx(l,{htmlFor:"title",className:"mb-1",value:"Status"}),s.jsx(f,{status:t.status})]}),s.jsxs("div",{className:"",children:[s.jsx(l,{htmlFor:"title",value:"Post Title"}),s.jsx(i,{id:"title",type:"text",name:"title",value:a.title,className:"mt-1 block w-full",placeholder:"Title",onChange:e=>r("title",e.target.value)}),s.jsx(n,{message:o.title,className:"mt-2"})]}),s.jsxs("div",{children:[s.jsx(l,{htmlFor:"slug",value:"Slug"}),s.jsx(i,{id:"slug",type:"text",name:"slug",value:a.slug,className:"mt-1 block w-full bg-gray-100 cursor-not-allowed",readOnly:!0}),s.jsx(n,{message:o.slug,className:"mt-2"})]}),s.jsxs("div",{className:"col-span-2",children:[s.jsx(l,{htmlFor:"tag",value:"Tag"}),s.jsx(b,{isMulti:!0,defaultValue:c,id:"tag",options:g,onChange:e=>r("tag",e)}),s.jsx("input",{type:"hidden",name:"tag[]",value:a.tag}),s.jsx(n,{message:o.tag,className:"mt-2"})]}),s.jsxs("div",{className:"col-span-2",children:[s.jsx(l,{htmlFor:"content",value:"Content"}),s.jsx("div",{"data-color-mode":"light",children:s.jsx(y,{height:280,value:m,onChange:e=>j(e)})}),s.jsx(n,{message:o.content,className:"mt-2"})]})]}),s.jsx(i,{type:"hidden",name:"status",value:a.status}),s.jsx(N,{className:"mt-10",disabled:x,children:"Update"})]})};export{M as default};
