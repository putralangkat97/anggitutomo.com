import{W as v,r as c,j as e}from"./app-180a7d22.js";import{T as g,I as r}from"./TextInput-0defa406.js";import{I as n}from"./InputLabel-47b21ed3.js";import{P as f}from"./PrimaryButton-814b70f3.js";import{_ as N,S,E as b}from"./slugify-8303c04e.js";import"./react-markdown-a6b9ca4c.js";const P=({tags:u,dataEdit:s,postTag:i})=>{const{data:l,setData:a,patch:d,processing:x,errors:o,reset:p}=v({title:s.title,slug:s.slug,content:s.content,tag:i}),[m,j]=c.useState(s.content),h=t=>{t.preventDefault(),d(route("admin.post.update",s.id),{preserveScroll:!0,onSuccess:()=>p()})};return c.useEffect(()=>{a("content",m)},[m]),c.useEffect(()=>{a("slug",N(l.title))},[l.title]),e.jsxs("form",{onSubmit:h,children:[e.jsxs("div",{className:"grid grid-cols-1 grid-cols-2 gap-4",children:[e.jsxs("div",{className:"",children:[e.jsx(n,{htmlFor:"title",value:"Post Title"}),e.jsx(g,{id:"title",type:"text",name:"title",value:l.title,className:"mt-1 block w-full",placeholder:"Title",onChange:t=>a("title",t.target.value)}),e.jsx(r,{message:o.title,className:"mt-2"})]}),e.jsxs("div",{children:[e.jsx(n,{htmlFor:"slug",value:"Slug"}),e.jsx(g,{id:"slug",type:"text",name:"slug",value:l.slug,className:"mt-1 block w-full bg-gray-100 cursor-not-allowed",readOnly:!0}),e.jsx(r,{message:o.slug,className:"mt-2"})]}),e.jsxs("div",{className:"col-span-2",children:[e.jsx(n,{htmlFor:"tag",value:"Tag"}),console.log(i,u),e.jsx(S,{isMulti:!0,defaultValue:i,id:"tag",options:u,onChange:t=>a("tag",t)}),e.jsx("input",{type:"hidden",name:"tag[]",value:l.tag}),e.jsx(r,{message:o.tag,className:"mt-2"})]}),e.jsxs("div",{className:"col-span-2",children:[e.jsx(n,{htmlFor:"content",value:"Content"}),e.jsx("div",{"data-color-mode":"light",children:e.jsx(b,{height:280,value:m,onChange:t=>j(t)})}),e.jsx(r,{message:o.content,className:"mt-2"})]})]}),e.jsx(f,{className:"mt-10",disabled:x,children:"Submit"})]})};export{P as default};
