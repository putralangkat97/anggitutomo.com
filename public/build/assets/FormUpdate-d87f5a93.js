import{W as f,r as i,j as e}from"./app-440b4154.js";import{T as m,I as o}from"./TextInput-bdc004f0.js";import{I as n}from"./InputLabel-f96b0eca.js";import{P as N}from"./PrimaryButton-0d12e79b.js";import{S,E as b}from"./react-select.esm-c93c34bf.js";import"./toConsumableArray-d78c7c62.js";const k=({tags:g,dataEdit:s,postTag:c})=>{const{data:l,setData:a,patch:p,processing:d,errors:r,reset:x}=f({title:s.title,slug:s.slug,content:s.content,tag:c,status:s.status}),[u,j]=i.useState(s.content),h=t=>{t.preventDefault(),p(route("admin.post.update",s.id),{preserveScroll:!0,onSuccess:()=>x()})};i.useEffect(()=>{a("content",u)},[u]),i.useEffect(()=>{a("slug",v(l.title))},[l.title]);const v=t=>t.replace(" ","-").toLowercase();return e.jsxs("form",{onSubmit:h,children:[e.jsxs("div",{className:"grid grid-cols-1 grid-cols-2 gap-4",children:[e.jsxs("div",{className:"",children:[e.jsx(n,{htmlFor:"title",value:"Post Title"}),e.jsx(m,{id:"title",type:"text",name:"title",value:l.title,className:"mt-1 block w-full",placeholder:"Title",onChange:t=>a("title",t.target.value)}),e.jsx(o,{message:r.title,className:"mt-2"})]}),e.jsxs("div",{children:[e.jsx(n,{htmlFor:"slug",value:"Slug"}),e.jsx(m,{id:"slug",type:"text",name:"slug",value:l.slug,className:"mt-1 block w-full bg-gray-100 cursor-not-allowed",readOnly:!0}),e.jsx(o,{message:r.slug,className:"mt-2"})]}),e.jsxs("div",{className:"col-span-2",children:[e.jsx(n,{htmlFor:"tag",value:"Tag"}),console.log(c,g),e.jsx(S,{isMulti:!0,defaultValue:c,id:"tag",options:g,onChange:t=>a("tag",t)}),e.jsx("input",{type:"hidden",name:"tag[]",value:l.tag}),e.jsx(o,{message:r.tag,className:"mt-2"})]}),e.jsxs("div",{className:"col-span-2",children:[e.jsx(n,{htmlFor:"content",value:"Content"}),e.jsx("div",{"data-color-mode":"light",children:e.jsx(b,{height:280,value:u,onChange:t=>j(t)})}),e.jsx(o,{message:r.content,className:"mt-2"})]})]}),e.jsx(m,{type:"hidden",name:"status",value:l.status}),e.jsx(N,{className:"mt-10",disabled:d,children:"Submit"})]})};export{k as default};
